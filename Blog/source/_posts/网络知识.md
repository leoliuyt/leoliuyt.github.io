---
title: 网络知识
date: 2018-06-01 21:40:05
tags:
categories: 
---

## HTTP

HTTP 请求报文

{% asset_img request.png 请求报文 %}

HTTP 响应报文

{% asset_img responde.png 响应报文 %}

HTTP的请求方式
- GET
- POST
- HEAD
- PUT
- DELETE
- OPTIONS

GET和POST方式的区别

GET：用来获取资源

- 安全：不应该引起server端的任何状态变化（GET、HEAD、OPTIONS）
- 幂等：同一个请求方法执行多次和执行一次的效果完全相同。（GET、PUT、DELETE）
- 可缓存的：请求是否可以被缓存（GET、HEAD）

POST：用来处理资源
- 非安全
- 非幂等
- 不可缓存

状态码

1xx:这一类型的状态码，代表请求已被接受，需要继续处理。这类响应是临时响应
2xx:这一类型的状态码，代表请求已成功被服务器接收、理解、并接受
3xx:重定向，需要进一步的操作以完成请求
4xx:这类的状态码代表了客户端看起来可能发生了错误，妨碍了服务器的处理。
5xx:表示服务器无法完成明显有效的请求。[56]这类状态码代表了服务器在处理请求的过程中有错误或者异常状态发生

连接建立流程

{% asset_img http.png http连接建立流程 %}

### HTTP特点(缺点)

- 无连接
    HTTP的持久连接
- 无状态
    Cookie/Session

#### 持久连接

与持久连接有关的请求头部字段:

- Connection:keep-alive 客户端是否期许使用持久连接
- time:20 连接在20s没不会断开，多个请求可以复用
- max:10 这条连接最对可以发生多少个http请求及响应对

怎么判断一个请求是否结束的？

响应报文
Content-length:1024
所接收到数据的字节数是否与Content-length相同来判断这次请求是否结束

chunked:最后会有一个空的chunked
根据响应报文中chunked是否为空判断请求是否结束

Charles的抓包原理

利用http的中间人攻击来实现的

{% asset_img middle 中间人攻击 %}


## HTTPS

HTTPS = HTTP + SSL/TLS

HTTPS 连接的建立流程

{% asset_img https https连接建立流程 %}

会话秘钥 = random S + random C + 预主秘钥

HTTPS 使用了哪些加密手段? 为什么？

连接建立过程中使用的非对称加密，非对称加密很耗时
后续的通信过程使用对称加密

非对称加密

对称加密


## TCP / UDP

传输层协议 
- TCP 传输控制协议
- UDP 用户数据报协议

### UDP

特点

- 无连接
- 尽最大努力交付（不保证可靠传输）
- 面向报文
    - 既不合并，也不拆分

功能：

复用
分用
差错检测 

{% asset_img multiplexing 复用%}

{% asset_img demultiplexing 分用%}